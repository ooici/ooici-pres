<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
		"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="language" content="en"/>

	<title>Layout with Accordion</title>

	<link rel="stylesheet" type="text/css" href="css/ciux-default.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="css/ciux-datatable-page.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="css/ciux-datatable-table-jui.css"/>

	<!-- CUSTOMIZE/OVERRIDE THE DEFAULT CSS -->

	<style type="text/css">

		/* remove padding and scrolling from elements that contain an Accordion OR a content-div */
		.ui-layout-center, /* has content-div */
		.ui-layout-west, /* has Accordion */
		.ui-layout-east, /* has content-div ... */
		.ui-layout-east .ui-layout-content {
		/* content-div has Accordion */
			padding: 0;
			overflow: hidden;
		}

		.ui-layout-center P.ui-layout-content {
			line-height: 1.4em;
			margin: 0; /* remove top/bottom margins from <P> used as content-div */
		}

		h3, h4 {
		/* Headers & Footer in Center & East panes */
			font-size: 1.1em;
			background: #EEF;
			border: 1px solid #BBB;
			border-width: 0 0 1px;
			padding: 7px 10px;
			margin: 0;
		}

		#dt_example {
			position: relative;
			overflow: hidden;
		}

		body {
			font-family: Arial, sans-serif;
			font-size: 0.65em;
		}

	</style>

	<!-- REQUIRED scripts for layout widget -->
	<script type="text/javascript" src="js/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" src="js/jquery.layout.min.js"></script>
	<script type="text/javascript" src="js/jquery.layout.min.js"></script>

	<script type="text/javascript" src="js/themeswitchertool.js"></script>
	<script type="text/javascript" src="js/debug.js"></script>
	<script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="js/jquery.multi-open-accordion.js"></script>

	<script type="text/javascript">

		var myLayout; // init global vars

		function resizeWidgets() {
			myLayout.resizeAll();
		};

		$(document).ready(function() {

			myLayout = $('body').layout({
				west__size: 350,
				east__size: 350
			});

			// THEME SWITCHER
			addThemeSwitcher('.ui-layout-north', { top: '12px', right: '5px' });
			// if a new theme is applied, it could change the height of some content,
			// so call resizeAll to 'correct' any header/footer heights affected
			// NOTE: this is only necessary because we are changing CSS *AFTER LOADING* using themeSwitcher
			setTimeout(resizeWidgets, 1000);

			// Datatable settings
			$('#example').dataTable({
				"bProcessing": true,
				"sAjaxSource": 'service/list',
				"aoColumns": [
					/* Id */ {"bVisible": false},
					/* Title */  null,
					/* Provider */  null,
					/* Format */ null,
					/* Type */  null,
					/* MetaInfo */ {"bVisible":false},
					/* Publisher Info */ {"bVisible":false},
					/* Creator Info */ {"bVisible":false}
				],
				"bJQueryUI": true,
				"sPaginationType": "full_numbers"
			});

			// Initialize the center pane datatable
			oTable = $('#example').dataTable();

			/**
			 * WF101
			 *
			 * Handles double click action on a row w/in the center pane's dataResource table.
			 *
			 * The result of this action should hide the dataResource table and display a comprehensive
			 * summary view of the dataResource selected.
			 */
			$("#example tbody").bind('dblclick', function(event) {
				// Get the hidden column data for this row
				var rowData = oTable.fnGetData(event.target.parentNode);
				// ajax call to Grails ServiceController's fetchDataResourceDetails method
				$('#container').load(
					'/html/fetchDataResourceDetails',
					{title:rowData[1]}
				)
			});

			/**
			 * WF 100
			 *
			 * Handles user click events within center pane datatable
			 */
			$("#example tbody").click(function(event) {

				// Upon deselect of a row, turns that row's highlighting off
				$(oTable.fnSettings().aoData).each(function () {
					$(this.nTr).removeClass('row_selected');
				});

				// Highlights selected row
				$(event.target.parentNode).addClass('row_selected').text();

				// Expands right pane panels when row is selected. Also closes panels if already expanded.
				if(!$('#eastMultiOpenAccordion h3').hasClass('ui-state-active ui-corner-top')) {
					$('#eastMultiOpenAccordion h3').trigger('click');
				}

				// Get the hidden column data for this row
				var rowData = oTable.fnGetData(event.target.parentNode);

				// Get the data source Id from column 0
				var dsId = rowData[0];

				// Get dataSource title from the selected row
				var dsTitle = rowData[1];
				// Set dataSource title panel content
				$('a#rp_dsTitle').html(dsTitle);

				// Get dataSource MetaInfo from the selected row
				var dsMeta = rowData[5];
				// Set dataSource MetaInfo panel content
				$('div#rp_dsMetaInfo').html(dsMeta);

				// Get dataSource Publisher Info from the selected row
				var dsPubInfo = rowData[6];
				// Set dataSource Publisher info content
				$('div#rp_publisherInfo').html(dsPubInfo);

				// Get dataSource Creator info from the selected row
				var dsCreatorInfo = rowData[7];
				// Set dataSource Creator info content
				$('div#rp_creatorInfo').html(dsCreatorInfo);

				// Get dataSource Documentation Info from the selected row
				var dsDocInfo = rowData[8];
				// Set dataSource Documentation panel content
				$('div#rp_docInfo').html(dsDocInfo);

				// Get dataSource Variables Info from the selected row
				var dsVarInfo = rowData[9];
				// Set dataSource variables panel content
				$('div#rp_variablesInfo').html(dsVarInfo);

				// Get dataSource Access Info from the selected row
				var dsAccessInfo = rowData[10];
				// Set dataSource access info panel content
				$('div#rp_accessInfo').html(dsAccessInfo);

				// Get dataSource Viewers Info from the selected row
				var dsViewersInfo = rowData[11];
				// Set dataSource viewers info panel content
				$('div#rp_viewersInfo').html(dsViewersInfo);

			});

			$('#eastMultiOpenAccordion').multiAccordion();
			$('#westMultiOpenAccordion').multiAccordion();

			// auto open Resource Selector panel
			$('#westMultiOpenAccordion h3:eq(0)').trigger('click');
			// auto open Geospatial Extent panel
			$('#westMultiOpenAccordion h3:eq(1)').trigger('click');
			// auto open Temporal Extent panel
			$('#westMultiOpenAccordion h3:eq(2)').trigger('click');

			$('.ui-layout-center').hide();
			$('.ui-layout-east').hide();

			$('input#radioAllPubRes').bind('click', function(event) {
				$('.ui-layout-center').show();
				$('.ui-layout-east').show();
			});

			$('input#radioMySub').bind('click', function(event) {
				$('.ui-layout-center').hide();
				$('.ui-layout-east').hide();
			});

			$('input#radioMyPubRes').bind('click', function(event) {
				$('.ui-layout-center').hide();
				$('.ui-layout-east').hide();
			});

			$('input#radioMyNotif').bind('click', function(event) {
				$('.ui-layout-center').hide();
				$('.ui-layout-east').hide();
			});

			$('input#radioRunEPU').bind('click', function(event) {
				$('.ui-layout-center').hide();
				$('.ui-layout-east').hide();
			});

			$('input#radioRegUsers').bind('click', function(event) {
				$('.ui-layout-center').hide();
				$('.ui-layout-east').hide();
			});

		});

	</script>

</head>
<body>

<div class="ui-layout-north ui-widget-content" style="display: none;">
	<div style="float: right; margin-right: 160px;">
		<button onClick="resizeWidgets()">Resize</button>
		&nbsp;
		<button onClick="removeUITheme(); resizeWidgets()">Remove Theme</button>

	</div>
	CI UX Template
</div>

<div class="ui-layout-south ui-widget-content ui-state-error" style="display: none;">South Pane</div>

<div class="ui-layout-center" style="display: none;">
	<h3 class="ui-widget-header">Data Resources</h3>

	<div class="ui-layout-content">
		<div id="dt_example">
		<div id="container">

			<div class="demo_jui">
				<table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
					<thead>
					<tr>
						<th>Id</th>
						<th width="50%">Title</th>
						<th>Provider</th>
						<th>Format</th>
						<th>Type</th>
						<th>MetaInfo</th>
						<th>Publisher Info</th>
						<th>Creator Info</th>
					</tr>
					</thead>
					<tbody>
					<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam faucibus nisi vitae tortor
						adipiscing sit amet tempus
						justo tincidunt. Nam varius congue ultricies. Phasellus sodales pellentesque congue. Nunc
						posuere sollicitudin
						tortor, quis dapibus risus faucibus sed.
					</td>
					<tr class="gradeA">
						<td>1</td>
						<td>1 Argo Float Data from the PMEL DAPPER Server</td>
						<td>NOAA, NCAR</td>
						<td>NIDS</td>
						<td class="center">GRID</td>
						<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam faucibus nisi vitae tortor
							adipiscing sit amet
							tempus justo tincidunt. Nam varius congue ultricies. Phasellus sodales pellentesque congue.
							Nunc posuere
							sollicitudin tortor, quis dapibus risus faucibus sed.
						</td>
						<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam faucibus nisi vitae tortor
							adipiscing sit amet
							tempus justo tincidunt. Nam varius congue ultricies. Phasellus sodales pellentesque congue.
							Nunc posuere
							sollicitudin tortor, quis dapibus risus faucibus sed.
						</td>
						<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam faucibus nisi vitae tortor
							adipiscing sit amet
							tempus justo tincidunt. Nam varius congue ultricies. Phasellus sodales pellentesque congue.
							Nunc posuere
							sollicitudin tortor, quis dapibus risus faucibus sed.
						</td>
					</tr>
					</tbody>
				</table>
			</div>
			<div class="spacer"></div>
		</div>
	</div>
	</div>

	<h4 class="ui-widget-content ui-state-hover">Placeholder</h4>
	
</div>

<div class="ui-layout-west" style="display: none;">

	<div class="ui-layout-content">
		<div id="westMultiOpenAccordion">
			<h3><a href="#">Resource Selector</a></h3>

			<div style="padding-left: 10px; padding-right: 10px;">
				<form action="">
					<table>
						<tr>
							<td><input id="radioAllPubRes" name="group1" type="radio"/>
							</td>
							<td style="padding-right: 30px;">All Published Resources</td>
							<td><input id="radioMySub" name="group1" type="radio"/></td>
							<td>My Subscriptions</td>
						</tr>
						<tr>
							<td><input id="radioMyPubRes" name="group1" type="radio"/>
							</td>
							<td>My Published Resources</td>
							<td><input id="radioMyNotif" name="group1" type="radio"/>
							</td>
							<td>My Notifications</td>
						</tr>
						<tr>
							<td><input id="radioRunEPU" name="group1" type="radio"/>
							</td>
							<td>Running EPUs</td>
							<td><input id="radioRegUsers" name="group1" type="radio"/>
							</td>
							<td>Registered Users</td>
						</tr>
					</table>
				</form>
			</div>
			<h3><a href="#">Geospatial Extent</a></h3>

			<div id="geospatialContainer">
				<div class="boundingBoxRadios">
					<form action="">
						<table>
							<tr>
								<td><strong>Bounding Box:</strong></td>
								<td><input name="group1" type="radio"/></td>
								<td>All</td>
							</tr>
							<tr>
								<td></td>
								<td><input name="group1" type="radio"/></td>
								<td>Defined</td>
							</tr>
						</table>
					</form>
				</div>
				<div class="altitudeRadios">
					<form action="">
						<table>
							<tr>
								<td><strong>Altitude:</strong></td>
								<td><input name="group1" type="radio"/></td>
								<td>All</td>
							</tr>
							<tr>
								<td></td>
								<td><input name="group1" type="radio"/></td>
								<td>Defined</td>
							</tr>
						</table>
					</form>
				</div>
				<div class="boundingBoxText">
					Bounding Box<br/>
					(Decimal Degrees)
				</div>
				<div class="boundingBoxControls">
					<span class="Ntext">N</span>
					<input class="north textfield" name="north" type="text" size="5" maxlength="5"/>
					<span class="Stext">S</span>
					<input class="south textfield" name="south" type="text" size="5" maxlength="5"/>
					<span class="Etext">E</span>
					<input class="east textfield" name="east" type="text" size="5" maxlength="5"/>
					<span class="Wtext">W</span>
					<input class="west textfield" name="west" type="text" size="5" maxlength="5"/>
					<span class="NSEWBackgroundBorder"></span>
				</div>
				<div class="altitudeControls">
						<span class="altText">Altitude<br/>
						(Feet MSL)</span>
						<span class="altitudeUpper">Upper Bound:
						<input class="textfield" name="altUpper" type="text" size="5" maxlength="5"/>
						</span>
						<span class="altitudeLower">Lower Bound:
						<input class="textfield" name="altLower" type="text" size="5" maxlength="5"/>
						</span>
				</div>
			</div>
			<h3><a href="#">Temporal Extent</a></h3>

			<div style="display: block; padding-left: 10px; padding-right: 10px;" class="temporalExtentContainer">
				<form action="">
					<table>
						<tr>
							<td class="boldText">Time Range:</td>
							<td><input id="TE_timeRange_all" name="group1" type="radio"/>
							</td>
							<td>All</td>
							<td><input id="TE_timeRange_defined" name="group1" type="radio"/></td>
							<td>Defined</td>
						</tr>
					</table>
				</form>
				<span class="te-from boldText">From:</span>
				<input class="te_from_input" name="te_from_input" type="text" size="15" maxlength="15"/>
				<span class="te-to boldText">To:</span>
				<input class="te_to_input" name="te_to_input" type="text" size="15" maxlength="15"/>

				<div class="te-footer-text">
					ISO Formatted Time: YYYY-MM-DDTHH:MM:SSZ<br/>
					Example: 2010-11-15T09:00:00
				</div>
			</div>
		</div>
	</div>

	<h4 class="ui-widget-content ui-state-hover">Placeholder</h4>

</div>

<div class="ui-layout-east" style="display: none;">
	<h3 class="ui-widget-header">Data Resource Detail</h3>

	<div class="ui-layout-content">
		<div id="eastMultiOpenAccordion">
			<h3><a id="rp_dsTitle" href="#">Data Source Title</a></h3>

			<div id="rp_dsMetaInfo">
			</div>
			<h3><a href="#">Publisher Information</a></h3>

			<div id="rp_publisherInfo">
			</div>
			<h3><a href="#">Creator Information</a></h3>

			<div id="rp_creatorInfo">
			</div>
			<h3><a href="#">Documentation</a></h3>

			<div id="rp_docInfo">
			</div>
			<h3><a href="#">Variables</a></h3>

			<div id="rp_variablesInfo">
			</div>
			<h3><a href="#">Access</a></h3>

			<div id="rp_accessInfo">
			</div>
			<h3><a href="#">Viewers</a></h3>

			<div id="rp_viewersInfo">
			</div>
		</div>
	</div>

	<h4 class="ui-widget-content ui-state-hover">Get Notifications Get Download</h4>
</div>

</body>
</html> 